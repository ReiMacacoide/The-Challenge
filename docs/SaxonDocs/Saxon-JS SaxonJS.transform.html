<!DOCTYPE html>
<html><head>
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
        <title>Saxon-JS SaxonJS.transform</title>
        <meta name="robots" content="noindex, nofollow">
        <meta name="viewport" content="width=768, minimum-scale=1.0, maximum-scale=1.0">
        <script type="text/javascript" src="Saxon-JS%20SaxonJS.transform_files/jstree.js"></script>
        <script src="Saxon-JS%20SaxonJS.transform_files/SaxonJS.js"></script>
        <script>
      window.onload = function() {
        SaxonJS.transform({
           stylesheetLocation: "xsl/jstree.sef.xml",
           initialTemplate: "main"
           });
      }     
        </script>
        <link href="Saxon-JS%20SaxonJS.transform_files/jstree.css" rel="stylesheet" type="text/css">
            
    </head>

<body>

    <div id="wrap">
        
        <div id="header" class="unselectable">
            
            <!-- bread-crumb trail -->
            
            <ul class="trail" id="trail"><li id="trail1"><a href="http://saxonica.com/">Saxonica ▷</a></li><li id="trail2"><a href="http://www.saxonica.com/saxon-js/index.xml">Saxon-JS ▷</a></li><li idt="api" class="trail">JavaScript API ▷</li><li idt="transform" class="trail">SaxonJS.transform</li></ul>
            
        </div>
        
        <!-- find box appears in top-left of display - normally hidden -->
        
        <div class="found">
            
            <p class="foundClosed"></p>
            
            <p class="foundNext"></p>
            
            <p class="foundPrev"></p>
            
            <p id="findstatus" class="foundCount">searching...</p>
            
        </div>
        
        <div id="foundPaths"></div>
        
        <div id="nav" class="unselectable">
            
            
            <!-- logo and search -->
            
            <div id="logo">
                
                <p class="logoBox"><img src="Saxon-JS%20SaxonJS.transform_files/logo_crop-mid-blue-background.gif" alt="saxonica.com" width="120" height="24"></p>
                
                
                <p class="arrowNone"></p>
                
                <p class="search"></p>
                <input id="search" style="font-family:inherit;font-size:12px;float:right;padding:2px;margin-top:4px;width:110px;border:none;">
                    
            </div>
            
            
            <!-- tree-view -->
            
            <ul id="list"><li class="closed" id="about"><span class="item">About Saxon-JS</span><ul><li id="saxonce" class="empty"><span class="item">Comparison with Saxon-CE</span></li></ul></li><li class="open" id="changes"><span class="item">Change History</span></li><li class="closed" id="starting"><span class="item">Getting started</span><ul><li id="installing" class="empty"><span class="item">Installing the Software</span></li><li id="export" class="empty"><span class="item">Exporting for JS</span></li><li id="running" class="empty"><span class="item">Running Saxon-JS</span></li></ul></li><li class="closed" id="development"><span class="item">Developing Applications</span><ul><li id="namespaces" class="empty"><span class="item">Namespaces</span></li><li id="result-documents" class="empty"><span class="item">Result documents</span></li><li id="source-documents" class="empty"><span class="item">Source documents</span></li><li id="events" class="empty"><span class="item">Handling user input events</span></li><li id="system-events" class="empty"><span class="item">Handling client system events</span></li><li id="animation" class="empty"><span class="item">Animation</span></li><li id="http" class="open"><span class="item">HTTP client</span><ul><li id="termination" class="empty"><span class="item">HTTP request termination</span></li></ul></li><li id="global" class="empty"><span class="item">Using global JavaScript functions</span></li><li id="properties" class="empty"><span class="item">Properties of JavaScript objects</span></li><li id="saxonce" class="empty"><span class="item">Migration from Saxon-CE</span></li></ul></li><li class="closed" id="ixsl-extension"><span class="item">Saxon Interactive Extensions</span><ul><li id="functions" class="open"><span class="item">Extension functions</span><ul><li id="apply" class="empty"><span class="item">ixsl:apply</span></li><li id="call" class="empty"><span class="item">ixsl:call</span></li><li id="eval" class="empty"><span class="item">ixsl:eval</span></li><li id="event" class="empty"><span class="item">ixsl:event</span></li><li id="get" class="empty"><span class="item">ixsl:get</span></li><li id="location" class="empty"><span class="item">ixsl:location</span></li><li id="page" class="empty"><span class="item">ixsl:page</span></li><li id="query-params" class="empty"><span class="item">ixsl:query-params</span></li><li id="source" class="empty"><span class="item">ixsl:source</span></li><li id="style" class="empty"><span class="item">ixsl:style</span></li><li id="window" class="empty"><span class="item">ixsl:window</span></li></ul></li><li id="instructions" class="open"><span class="item">Extension instructions</span><ul><li id="remove-attribute" class="empty"><span class="item">ixsl:remove-attribute</span></li><li id="schedule-action" class="empty"><span class="item">ixsl:schedule-action</span></li><li id="set-attribute" class="empty"><span class="item">ixsl:set‑attribute</span></li><li id="set-property" class="empty"><span class="item">ixsl:set-property</span></li><li id="set-style" class="empty"><span class="item">ixsl:set-style</span></li></ul></li><li id="conversions" class="empty"><span class="item">JS/XDM Type Conversion</span></li></ul></li><li class="open" id="api"><span class="item">JavaScript API</span><ul><li id="transform" class="open"><span class="hot">SaxonJS.transform</span><ul><li id="parameters" class="empty"><span class="item">Supplying stylesheet parameters</span></li></ul></li><li id="getProcessorInfo" class="empty"><span class="item">SaxonJS.getProcessorInfo</span></li><li id="setLogLevel" class="empty"><span class="item">SaxonJS.setLogLevel</span></li><li id="xpathEvaluate" class="empty"><span class="item">SaxonJS.XPath.evaluate</span></li></ul></li><li class="closed" id="conformance"><span class="item">Standards Conformance</span></li><li class="closed" id="samples"><span class="item">Sample Saxon-JS Applications</span></li><li class="closed" id="conditions"><span class="item">Licensing</span></li></ul>
            
        </div>
        
        <!-- main page -->
        
        <div id="main" style="float:left">
        <h1>SaxonJS.transform</h1>

        <p>
            <b>
                <code>SaxonJS.transform(options, callback)</code>
            </b>
        </p>

        <p>The <code>options</code> argument is a JavaScript literal object supplying the transform
            options (much like the XPath 3.1 <code>transform()</code> function). The options
            implemented for this release are defined in the following table. (Further options will
            be implemented in due course.)</p>

        <table>
            <thead>
                <tr>
                    <th>Key</th>
                    <th>Value</th>
                    <th>Meaning</th>
                </tr>
            </thead>
            <tbody>

                <tr>
                    <td>
                        <code>stylesheetLocation</code>
                    </td>
                    <td>
                        <code>String</code>
                    </td>
                    <td>
                        <p>URI (relative to the HTML page) that can be used to locate the compiled
                            stylesheet.</p>
                    </td>
                </tr>
                <tr>
                    <td>
                        <code>stylesheetNode</code>
                    </td>
                    <td>
                        <code>DOM Node</code>
                    </td>
                    <td>
                        <p>Document node of the compiled stylesheet.</p>
                    </td>
                </tr>
                <tr>
                    <td>
                        <code>sourceLocation</code>
                    </td>
                    <td>
                        <code>String</code>
                    </td>
                    <td>
                        <p>URI (relative to the HTML page) that can be used to locate an XML
                            document which is used both as the global context item for the
                            transformation (accessible as the context item within global variable
                            declarations) and also as the initial match selection (used in an
                            implicit apply-templates invocation of the stylesheet).</p>
                    </td>
                </tr>
                <tr>
                    <td>
                        <code>sourceNode</code>
                    </td>
                    <td>
                        <code>DOM Node</code>
                    </td>
                    <td>
                        <p>A node in an XML document which is used both as the global context item
                            for the transformation and also as the initial match selection (see
                                <code>sourceLocation</code>).</p>
                    </td>
                </tr>
                <tr>
                    <td>
                        <code>sourceText</code>
                    </td>
                    <td>
                        <code>String</code>
                    </td>
                    <td>
                        <p>Lexical XML supplying the source document which is used both as the
                            global context item for the transformation and as the initial match
                            selection (see <code>sourceLocation</code>).</p>
                    </td>
                </tr>
                <tr>
                    <td>
                        <code>initialTemplate</code>
                    </td>
                    <td>
                        <code>String</code>
                    </td>
                    <td>
                        <p>The name of a named template in the stylesheet to act as the initial
                            entry point. The name is either a simple local name or in the form
                                '<code>Q{uri}local</code>'.</p>
                    </td>
                </tr>
                <tr>
                    <td>
                        <code>templateParams</code>
                    </td>
                    <td>
                        <code>object</code>
                    </td>
                    <td>
                        <p><em>Requires Saxon-JS 1.1.0 or later.</em></p>
                        <p>A JavaScript object containing the values of template parameters for the
                            named initial template. The key is the name of the parameter either as a simple
                            local name, or in the form '<code>Q{uri}local</code>'. The corresponding
                            value is a JavaScript value which is converted to an XDM value using the
                            rules given at <span class="link bodylink" data-href="/ixsl-extension/conversions">JS/XDM Type Conversion</span> (using
                            "Case 2" conversion for nested objects).</p>
                    </td>
                </tr>
                <tr>
                    <td>
                        <code>tunnelParams</code>
                    </td>
                    <td>
                        <code>object</code>
                    </td>
                    <td>
                        <p><em>Requires Saxon-JS 1.1.0 or later.</em></p>
                        <p>A JavaScript object containing the values of tunnel parameters for the
                            named initial template. The key is the name of the parameter either as a simple
                            local name, or in the form '<code>Q{uri}local</code>'. The corresponding
                            value is a JavaScript value which is converted to an XDM value using the
                            rules given at <span class="link bodylink" data-href="/ixsl-extension/conversions">JS/XDM Type Conversion</span> (using
                            "Case 2" conversion for nested objects).</p>
                    </td>
                </tr>
                <tr>
                    <td>
                        <code>initialFunction</code>
                    </td>
                    <td>
                        <code>String</code>
                    </td>
                    <td>
                        <p><em>Requires Saxon-JS 1.0.1 or later.</em></p>
                        <p>The name of the initial function, in the form '<code>Q{uri}local</code>'.</p>
                    </td>
                </tr>
                <tr>
                    <td>
                        <code>functionParams</code>
                    </td>
                    <td>
                        <code>Array</code>
                    </td>
                    <td>
                        <p><em>Requires Saxon-JS 1.0.1 or later.</em></p>
                        <p>Array containing values of arguments for the initial
                            function. These JavaScript values are converted to XDM values using the
                            rules given at <span class="link bodylink" data-href="/ixsl-extension/conversions">JS/XDM Type Conversion</span> (using
                            "Case 2" conversion for nested objects).</p>
                    </td>
                </tr>
                <tr>
                    <td>
                        <code>initialMode</code>
                    </td>
                    <td>
                        <code>String</code>
                    </td>
                    <td>
                        <p>The name of the initial processing mode. The name is either a simple
                            local name or in the form '<code>Q{uri}local</code>'.
                            <code>'#unnamed'</code> will force use of the unnamed mode. If <code>initial-mode</code>
                            is not set, then the default-mode is as specified in
                            <code>xsl:stylesheet|xsl:package</code>, defaulting to the unnamed mode.</p>
                    </td>
                </tr>
                <tr>
                    <td>
                        <code>stylesheetParams</code>
                    </td>
                    <td>
                        <code>object</code>
                    </td>
                    <td>
                        <p>A JavaScript object containing the values of global stylesheet
                            parameters. The key is the name of the parameter either as a simple
                            local name, or in the form '<code>Q{uri}local</code>'. The corresponding
                            value is a JavaScript value which is converted to an XDM value using the
                            rules given at <span class="link bodylink" data-href="parameters">Supplying
                                stylesheet parameters</span>.</p>
                    </td>
                </tr>
                <tr>
                    <td>
                        <code>destination</code>
                    </td>
                    <td>
                        <code>"replaceBody" | "appendToBody" | "prependToBody" |
                            "application"</code>
                    </td>
                    <td>
                        <p>Determines what happens to the principal result tree from the
                            transformation: </p>
                        <ul>
                            <li>"replaceBody" means the principal result overwrites the content of
                                the body element of the HTML page</li>
                            <li>"appendToBody" means the principal result is inserted after the
                                existing content of the body element of the HTML page</li>
                            <li>"prependToBody" means the principal result is inserted before the
                                existing content of the body element of the HTML page</li>
                            <li>"application" (the default) means the principal result becomes
                                available to the application on completion, as the value of
                                    <code>options.principalResult</code>.</li>
                        </ul>
                        <p>Note that it is recommmended not to use the principal result of the
                            transformation, but rather to direct all output to specific parts of the
                            HTML page using <code>xsl:result-document</code> (see <span class="link bodylink" data-href="/development/result-documents">Result
                                documents</span>).</p>
                    </td>
                </tr>
                <tr>
                    <td>
                        <code>deliverMessage</code>
                    </td>
                    <td>
                        <code>Function</code>
                    </td>
                    <td>
                        <p>A JavaScript function to process messages written using
                                <code>xsl:message</code>. The function is called with a single
                            argument which contains the content of the message as a string. The
                            default is to log the message to the browser developer console, prefixed
                            by the the string "xsl:message: ".</p>
                    </td>
                </tr>
                <tr>
                    <td>
                        <code>collations</code>
                    </td>
                    <td>
                        <code>object</code>
                    </td>
                    <td>
                        <p><em>Requires Saxon-JS 1.0.1 or later.</em></p>
                        <p>A map (supplied as a JavaScript object)
                            from (absolute) collation URIs
                            to collations. A collation is an object with the following
                            properties/methods. In all cases arguments (such as <code>a,b</code>)
                            are JavaScript strings. All methods except <code>equals</code> are optional; if not provided, the corresponding functions
                            will fail with a dynamic error saying "unsuitable collation". For example, sorting using a collation
                            is not possible unless the <code>compare</code> method is provided;
                            the <code>contains()</code> function fails unless the
                            <code>contains</code> method is provided.</p>
                        <ul>
                            <li><code>equals</code> - <code>function(a,b)</code> - true if
                                <code>a</code> and <code>b</code> are equal under this collation</li>
                            <li><code>compare</code> - <code>function(a,b)</code> - -1 if
                                <code>a</code> collates before <code>b</code>, +1 if <code>b</code>
                                collates before <code>a</code>, 0 if they collate to
                                the same position. Should return 0 if and only if
                                <code>equals(a,b)</code> returns <code>true</code>.</li>
                            <li><code>collationKey</code> - <code>function(a)</code> - returns a
                                string such that <code>collation-key(a) === collation-key(b)</code> if and
                                only if <code>equals(a,b)</code> under this collation.</li>
                            <li><code>contains(a,b), startsWith(a, b), endsWith(a,b),
                                indexOf(a,b)</code> - used to search for one string appearing within
                                another.</li>
                        </ul>
                    </td>
                </tr>
                <tr>
                    <td>
                        <code>collectionFinder</code>
                    </td>
                    <td>
                        <code>Function</code>
                    </td>
                    <td>
                        <p><em>Requires Saxon-JS 1.0.1 or later.</em></p>
                        <p><code>function(uri) {....}</code></p>
                        <p>Used to supply collections available to <code>fn:collection()</code>.</p>
                        <p>If supplied, the <code>collectionFinder</code> is called with no arguments in the
                            case of the default collection, or with the absolutized collection URI.
                            The result of the <code>collectionFinder</code> is converted from
                            JavaScript to XDM using the rules given at <span class="link bodylink" data-href="/ixsl-extension/conversions">JS/XDM Type Conversion</span> (using
                            "Case 2" conversion for nested objects, in the same way as the results
                            of JavaScript extension functions). There are no constraints on what is
                            returned.</p>
                    </td>
                </tr>
                <tr>
                    <td>
                        <code>logLevel</code>
                    </td>
                    <td>
                        <code>Number</code>
                    </td>
                    <td>
                        <p><em>Requires Saxon-JS 1.1.0 or later.</em></p>
                        <p>Used to set the logging level for warnings, processing messages, or full
                            tracing. Setting the log level to <code>x</code> means that logs at
                            level <code>x</code> and lower will be output. The following levels are
                            currently provided:</p>
                        <table>
                            <thead>
                                <tr>
                                    <td>Level</td>
                                    <td>Logs</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>-1</td>
                                    <td>Loading log only</td>
                                </tr>
                                <tr>
                                    <td>0</td>
                                    <td>Transform initialization logs</td>
                                </tr>
                                <tr>
                                    <td>1 (Default)</td>
                                    <td>Warning logs</td>
                                </tr>
                                <tr>
                                    <td>2</td>
                                    <td>Processing logs</td>
                                </tr>
                                <tr>
                                    <td>10</td>
                                    <td>Full tracing</td>
                                </tr>
                            </tbody>
                        </table>
                        <p>Alternatively, the logging level can be set using the API method <span class="link bodylink code" data-href="../setLogLevel">SaxonJS.setLogLevel()</span>.</p>
                    </td>
                </tr>
            </tbody>
        </table>

        <p>The optional <code>callback</code> argument is a function that is called when the
            transformation is complete. The value of <code>options.principalResult</code> is
            supplied as an argument. </p>

        


    </div>
        
        <!-- footnote anchored to bottom of display -->
        
        <div id="footer">
            
            <div id="info" class="footnote">
                
                <p>Saxon-JS Documentation</p>
                
            </div>
            
            <div>
                
                <p class="arrowRight"></p>
                
                <p class="arrowLeft"></p> 
                
            </div>
            
        </div>
        
        
    </div>
      

   


</body></html>